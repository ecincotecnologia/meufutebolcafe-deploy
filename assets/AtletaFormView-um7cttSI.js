import{d as U,o as N,c as x,b as e,t,w as C,f as i,v as u,n as d,k as p,m as E,e as M,g as S,p as $,r as c,B as A,a as b,s as m,l as F,h as y}from"./index-CebFxVPd.js";import{s as k,m as T}from"./mask-BwaD9nz2.js";const B={id:"app",class:"container mb-4"},D={class:"row"},I={class:"col-12"},R={class:"mb-4"},O={class:"card text-bg-dark mb-4"},z={class:"card-body"},j={class:"mb-3"},G={class:"invalid-feedback"},L={class:"mb-3"},q={class:"invalid-feedback"},H={class:"row g-3"},J={class:"mb-3"},K={class:"invalid-feedback"},P={class:"mb-3"},Q={class:"invalid-feedback"},W={class:"row g-3 mt-1"},X={class:"col-md-6"},Y={class:"invalid-feedback"},Z={class:"col-md-6"},h={class:"invalid-feedback"},ee={class:"card text-bg-dark mb-4"},se={class:"card-body"},le={class:"mb-3"},ae={class:"invalid-feedback"},oe={class:"mb-3"},te={class:"invalid-feedback"},ne={class:"card text-bg-dark mb-4"},ie={class:"card-body"},de={class:"mb-3"},ue={class:"invalid-feedback"},re={class:"mb-3"},ve={class:"invalid-feedback"},me={class:"card text-bg-dark mb-4"},pe={class:"card-body"},ce={class:"mb-3"},be={class:"invalid-feedback"},fe={class:"mb-3"},_e={class:"invalid-feedback"},ge={class:"row g-3"},xe={class:"col"},ye=["disabled"],ke={key:0,class:"spinner-border spinner-border-sm"},Ne=U({__name:"AtletaFormView",setup(Ve){const f=$(),_=F(),v=c(!1),o=c({}),l=c({id_atleta:null,nome:"",apelido:"",rg:"",cin:"",nascimento:"",sexo:"",nome_pai:"",nome_mae:"",telefone:"",email:"",foto:"",obs:""}),g=A(()=>!!l.value.id_atleta);function n(r){return o.value[r]?"is-invalid":""}async function V(){try{const r=await b.get(`/atleta/${l.value.id_atleta}`);Object.assign(l.value,r.data)}catch{m("Erro ao carregar atleta.","danger"),_.push("/atleta")}}async function w(){v.value=!0,o.value={};try{if(g.value)await b.put(`/atleta/${l.value.id_atleta}`,l.value),m("Atleta atualizado com sucesso.","success");else{const r=await b.post("/atleta",l.value);m("Atleta cadastrado com sucesso.","success"),_.replace(`/atleta/${r.data.id_atleta}/editar`)}}catch(r){r.response?.status===422?o.value=r.response.data.errors||{}:m("Erro ao salvar os dados.","danger")}finally{v.value=!1}}return N(()=>{f.params.id&&(l.value.id_atleta=Number(f.params.id),V())}),(r,s)=>(y(),x("main",B,[e("div",D,[e("div",I,[e("h5",R,t(g.value?"Editar atleta":"Cadastrar atleta"),1),e("form",{onSubmit:C(w,["prevent"]),novalidate:""},[e("div",O,[s[22]||(s[22]=e("h5",{class:"card-header"},"Dados pessoais",-1)),e("div",z,[e("div",j,[s[15]||(s[15]=e("label",null,"Nome *",-1)),i(e("input",{type:"text",class:d(["form-control",n("nome")]),"onUpdate:modelValue":s[0]||(s[0]=a=>l.value.nome=a)},null,2),[[u,l.value.nome]]),e("div",G,t(o.value.nome),1)]),e("div",L,[s[16]||(s[16]=e("label",null,"Apelido *",-1)),i(e("input",{type:"text",class:d(["form-control",n("apelido")]),"onUpdate:modelValue":s[1]||(s[1]=a=>l.value.apelido=a)},null,2),[[u,l.value.apelido]]),e("div",q,t(o.value.apelido),1)]),e("div",H,[e("div",J,[s[17]||(s[17]=e("label",null,"RG *",-1)),i(e("input",{type:"text",class:d(["form-control",n("rg")]),"onUpdate:modelValue":s[2]||(s[2]=a=>l.value.rg=a),onInput:s[3]||(s[3]=a=>l.value.rg=p(k)(l.value.rg)),maxlength:"11",autocomplete:"off"},null,34),[[u,l.value.rg]]),e("div",K,t(o.value.rg),1)]),e("div",P,[s[18]||(s[18]=e("label",null,"CIN",-1)),i(e("input",{type:"text",class:d(["form-control",n("cin")]),"onUpdate:modelValue":s[4]||(s[4]=a=>l.value.cin=a),onInput:s[5]||(s[5]=a=>l.value.cin=p(k)(l.value.cin)),maxlength:"11",autocomplete:"off"},null,34),[[u,l.value.cin]]),e("div",Q,t(o.value.cin),1)]),e("div",W,[e("div",X,[s[19]||(s[19]=e("label",null,"Data de nascimento *",-1)),i(e("input",{type:"date",class:d(["form-control",n("nascimento")]),"onUpdate:modelValue":s[6]||(s[6]=a=>l.value.nascimento=a)},null,2),[[u,l.value.nascimento]]),e("div",Y,t(o.value.nascimento),1)]),e("div",Z,[s[21]||(s[21]=e("label",null,"Sexo *",-1)),i(e("select",{class:d(["form-control",n("sexo")]),"onUpdate:modelValue":s[7]||(s[7]=a=>l.value.sexo=a)},[...s[20]||(s[20]=[e("option",{value:""},"Selecione",-1),e("option",{value:"Masculino"},"Masculino",-1),e("option",{value:"Feminino"},"Feminino",-1)])],2),[[E,l.value.sexo]]),e("div",h,t(o.value.sexo),1)])])])])]),e("div",ee,[s[25]||(s[25]=e("h5",{class:"card-header"},"Filiação",-1)),e("div",se,[e("div",le,[s[23]||(s[23]=e("label",null,"Nome do pai",-1)),i(e("input",{type:"text",class:d(["form-control",n("nome_pai")]),"onUpdate:modelValue":s[8]||(s[8]=a=>l.value.nome_pai=a)},null,2),[[u,l.value.nome_pai]]),e("div",ae,t(o.value.nome_pai),1)]),e("div",oe,[s[24]||(s[24]=e("label",null,"Nome da mãe",-1)),i(e("input",{type:"text",class:d(["form-control",n("nome_mae")]),"onUpdate:modelValue":s[9]||(s[9]=a=>l.value.nome_mae=a)},null,2),[[u,l.value.nome_mae]]),e("div",te,t(o.value.nome_mae),1)])])]),e("div",ne,[s[28]||(s[28]=e("h5",{class:"card-header"},"Contato",-1)),e("div",ie,[e("div",de,[s[26]||(s[26]=e("label",null,"Email",-1)),i(e("input",{type:"email",class:d(["form-control",n("email")]),"onUpdate:modelValue":s[10]||(s[10]=a=>l.value.email=a)},null,2),[[u,l.value.email]]),e("div",ue,t(o.value.email),1)]),e("div",re,[s[27]||(s[27]=e("label",null,"Telefone",-1)),i(e("input",{type:"text",class:d(["form-control",n("telefone")]),"onUpdate:modelValue":s[11]||(s[11]=a=>l.value.telefone=a),onInput:s[12]||(s[12]=a=>l.value.telefone=p(T)(l.value.telefone))},null,34),[[u,l.value.telefone]]),e("div",ve,t(o.value.telefone),1)])])]),e("div",me,[s[31]||(s[31]=e("h5",{class:"card-header"},"Outros",-1)),e("div",pe,[e("div",ce,[s[29]||(s[29]=e("label",null,"Foto (URL ou base64)",-1)),i(e("input",{type:"text",class:d(["form-control",n("foto")]),"onUpdate:modelValue":s[13]||(s[13]=a=>l.value.foto=a)},null,2),[[u,l.value.foto]]),e("div",be,t(o.value.foto),1)]),e("div",fe,[s[30]||(s[30]=e("label",null,"Observações",-1)),i(e("textarea",{class:d(["form-control",n("obs")]),rows:"3","onUpdate:modelValue":s[14]||(s[14]=a=>l.value.obs=a)},null,2),[[u,l.value.obs]]),e("div",_e,t(o.value.obs),1)])])]),e("div",ge,[e("div",xe,[e("button",{type:"submit",class:"btn btn-success w-100",disabled:v.value},[v.value?(y(),x("span",ke)):M("",!0),S(" "+t(v.value?" Salvando...":"Confirmar"),1)],8,ye)])])],32)])])]))}});export{Ne as default};
