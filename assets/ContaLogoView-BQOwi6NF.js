import{d as f,o as b,a as p,s as u,c as r,b as e,e as d,w as _,g as h,t as y,r as m,h as i}from"./index-CebFxVPd.js";const w={class:"container"},x={class:"row"},C={class:"col-12 col-md-6 mx-auto"},L={class:"text-center mb-4"},k=["src"],E={class:"mb-3"},V={key:0,class:"text-center mb-3"},z=["src"],B=["disabled"],D={key:0,class:"spinner-border spinner-border-sm"},S=f({__name:"ContaLogoView",setup(F){const l=m(null),a=m(null),s=m(!1);let n=null;b(async()=>{try{const{data:t}=await p.get("/conta/logo");l.value="https://ws.futebolcafe.com.br/storage/logos/"+t.logo}catch(t){u(t.response?.data?.message||"Erro ao carregar o logotipo","danger")}});function g(t){const o=t.target;if(o.files?.length){const c=o.files[0];if(!c)return;n=c,a.value=URL.createObjectURL(c)}}async function v(){if(n){s.value=!0;try{const t=new FormData;t.append("logo",n);const{data:o}=await p.post("/conta/logo",t,{headers:{"Content-Type":"multipart/form-data"}});u(o.message||"Logotipo atualizado com sucesso","success"),l.value=o.logo||a.value,a.value=null,n=null}catch(t){u(t.response?.data?.message||"Erro ao enviar o logotipo","danger")}finally{s.value=!1}}}return(t,o)=>(i(),r("main",w,[e("div",x,[o[2]||(o[2]=e("div",{class:"col-12 mb-4"},[e("h3",null,"Logotipo da Conta")],-1)),e("div",C,[e("div",L,[l.value?(i(),r("img",{key:0,src:l.value,alt:"Logotipo",class:"img-thumbnail",style:{"max-width":"200px"}},null,8,k)):d("",!0)]),e("form",{onSubmit:_(v,["prevent"])},[e("div",E,[o[0]||(o[0]=e("label",{class:"form-label"},"Selecionar novo logotipo",-1)),e("input",{type:"file",class:"form-control",accept:"image/*",onChange:g,required:""},null,32)]),a.value?(i(),r("div",V,[o[1]||(o[1]=e("p",{class:"mb-2"},"Pré-visualização",-1)),e("img",{src:a.value,class:"img-thumbnail",style:{"max-width":"200px"}},null,8,z)])):d("",!0),e("button",{type:"submit",class:"btn btn-success w-100",disabled:s.value},[s.value?(i(),r("span",D)):d("",!0),h(" "+y(s.value?" Enviando...":"Atualizar logotipo"),1)],8,B)],32)])])]))}});export{S as default};
