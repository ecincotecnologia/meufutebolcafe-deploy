import{d as g,o as x,a as v,c as m,b as a,t as p,e as c,w,f as n,v as r,g as _,r as d,h as u,s as f,i as V}from"./index-CebFxVPd.js";const U={class:"container"},C={class:"row"},E={class:"col-12"},N={key:0,class:"alert alert-info"},k={class:"mb-3"},D={class:"mb-3"},M={class:"mb-3"},S={class:"mb-3"},T={class:"mb-3"},B={class:"mb-3"},q=["disabled"],z={key:0,class:"spinner-border spinner-border-sm"},j=g({__name:"ContaView",setup(A){const i=d(!1),t=d(""),b=d(null),s=d({nome:"",email:"",data_nascimento:"",telefone:"",empresa:"",descricao:""});x(async()=>{const{data:o}=await v.get("/conta");s.value={nome:o.nome,email:o.email,data_nascimento:o.data_nascimento,telefone:o.telefone,empresa:o.empresa,descricao:o.descricao},b.value=o.logo});async function y(){i.value=!0,t.value="";try{await v.put("/conta",s.value),t.value="Dados atualizados com sucesso",f(t.value,"success")}catch(o){V(o)&&o.response?.status===412?t.value=o.response.data?.mensagem||"Erro de validação":t.value="Erro ao atualizar os dados",f(t.value,"danger")}finally{i.value=!1}}return(o,e)=>(u(),m("main",U,[a("div",C,[a("div",E,[e[12]||(e[12]=a("h3",null,"Minha Conta",-1)),t.value?(u(),m("div",N,p(t.value),1)):c("",!0),a("form",{onSubmit:w(y,["prevent"])},[a("div",k,[e[6]||(e[6]=a("label",{class:"form-label"},"Nome",-1)),n(a("input",{type:"text",class:"form-control","onUpdate:modelValue":e[0]||(e[0]=l=>s.value.nome=l),maxlength:"100",required:""},null,512),[[r,s.value.nome]])]),a("div",D,[e[7]||(e[7]=a("label",{class:"form-label"},"Email",-1)),n(a("input",{type:"email",class:"form-control","onUpdate:modelValue":e[1]||(e[1]=l=>s.value.email=l),maxlength:"100",required:""},null,512),[[r,s.value.email]])]),a("div",M,[e[8]||(e[8]=a("label",{class:"form-label"},"Data de nascimento",-1)),n(a("input",{type:"date",class:"form-control","onUpdate:modelValue":e[2]||(e[2]=l=>s.value.data_nascimento=l)},null,512),[[r,s.value.data_nascimento]])]),a("div",S,[e[9]||(e[9]=a("label",{class:"form-label"},"Telefone",-1)),n(a("input",{type:"text",class:"form-control","onUpdate:modelValue":e[3]||(e[3]=l=>s.value.telefone=l),maxlength:"15"},null,512),[[r,s.value.telefone]])]),a("div",T,[e[10]||(e[10]=a("label",{class:"form-label"},"Nome da empresa",-1)),n(a("input",{type:"text",class:"form-control","onUpdate:modelValue":e[4]||(e[4]=l=>s.value.empresa=l)},null,512),[[r,s.value.empresa]])]),a("div",B,[e[11]||(e[11]=a("label",{class:"form-label"},"Sobre a empresa",-1)),n(a("textarea",{class:"form-control",rows:"5","onUpdate:modelValue":e[5]||(e[5]=l=>s.value.descricao=l)},null,512),[[r,s.value.descricao]])]),a("button",{type:"submit",class:"btn btn-success w-100",disabled:i.value},[i.value?(u(),m("span",z)):c("",!0),_(" "+p(i.value?" Salvando...":"Confirmar"),1)],8,q)],32)])])]))}});export{j as default};
