import{d as _,o as h,c as o,b as e,t as s,F as m,f as y,v as f,j as b,r as d,B as x,a as C,s as k,h as r}from"./index-CebFxVPd.js";const L={class:"container pb-4"},S={class:"row"},w={class:"col-12"},E={key:0,class:"text-center my-4"},q={key:1,class:"alert alert-danger"},A={key:2},B={key:0,class:"alert alert-warning"},F={class:"d-flex justify-content-between mb-2"},M={class:"small mt-2 mb-0"},R={class:"input-group",style:{"max-width":"320px"}},T={class:"table-responsive"},V={class:"table table-dark table-striped mb-1 text-nowrap"},N=_({__name:"RelatorioView",setup(j){const u=d(!1),i=d(""),c=d(""),n=d([]),p=x(()=>{const a=c.value.toLowerCase();return a?n.value.filter(t=>String(t.campeonato??"").toLowerCase().includes(a)||String(t.modalidade??"").toLowerCase().includes(a)||String(t.categoria??"").toLowerCase().includes(a)||String(t.temporada??"").toLowerCase().includes(a)||String(t.equipe??"").toLowerCase().includes(a)||String(t.atletas??"").toLowerCase().includes(a)):n.value});async function v(){u.value=!0,i.value="";try{const{data:a}=await C.get("/relatorio");n.value=Array.isArray(a?.dados)?a.dados:Array.isArray(a)?a:[]}catch{i.value="Erro ao carregar relatorio de participacoes.",k("Erro ao carregar relatorio de participacoes.","danger")}finally{u.value=!1}}return h(()=>{v()}),(a,t)=>(r(),o("main",L,[e("div",S,[e("div",w,[t[4]||(t[4]=e("h3",{class:"mb-3"},"Relatório de participações",-1)),u.value?(r(),o("div",E,[...t[1]||(t[1]=[e("div",{class:"spinner-border"},null,-1)])])):i.value?(r(),o("div",q,s(i.value),1)):(r(),o("div",A,[n.value.length===0?(r(),o("div",B," Nenhum registro encontrado ")):(r(),o(m,{key:1},[e("div",F,[e("p",M," Exibindo "+s(p.value.length)+" de "+s(n.value.length)+" registros ",1),e("div",R,[t[2]||(t[2]=e("span",{class:"input-group-text"},"Filtro",-1)),y(e("input",{"onUpdate:modelValue":t[0]||(t[0]=l=>c.value=l),type:"text",class:"form-control",placeholder:"Campeonato, equipe, modalidade..."},null,512),[[f,c.value,void 0,{trim:!0}]])])]),e("div",T,[e("table",V,[t[3]||(t[3]=e("thead",null,[e("tr",null,[e("th",null,"Campeonato"),e("th",null,"Modalidade"),e("th",null,"Categoria"),e("th",null,"Temporada"),e("th",null,"Equipe"),e("th",null,"Integrantes")])],-1)),e("tbody",null,[(r(!0),o(m,null,b(p.value,(l,g)=>(r(),o("tr",{key:g},[e("td",null,s(l.campeonato),1),e("td",null,s(l.modalidade),1),e("td",null,s(l.categoria),1),e("td",null,s(l.temporada),1),e("td",null,s(l.equipe),1),e("td",null,s(l.atletas),1)]))),128))])])])],64))]))])])]))}});export{N as default};
