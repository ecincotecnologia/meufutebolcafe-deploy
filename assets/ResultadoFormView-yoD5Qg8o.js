import{d as E,o as F,c as d,b as a,t,F as y,j as U,f as i,y as m,e as R,v as b,w as O,r as n,a as C,p as T,h as u,n as j,s as q,l as A}from"./index-CebFxVPd.js";const D={id:"app",class:"container"},G={class:"row mb-4"},I={class:"col-12"},L={class:"row"},z={class:"col-12"},W={class:"mb-1"},H=["onUpdate:modelValue"],J={class:"row"},K={class:"col-12"},P={class:"mb-1"},Q=["onUpdate:modelValue"],X={class:"row"},Y={class:"col-12 col-sm-6 mb-3"},Z={class:"form-check"},ee={class:"form-check"},ae={key:0,class:"invalid-feedback d-block"},oe={class:"col-12 col-sm-6 mb-3"},le={class:"form-check"},se={class:"form-check"},te={key:0,class:"invalid-feedback d-block"},ne={class:"col-12 mb-3"},re={class:"row g-3 mb-4"},ie={class:"col"},de=["disabled"],me=E({__name:"ResultadoFormView",setup(ue){const f=T(),v=A(),c=n(!1),r=n({}),h=n(""),w=n(""),k=n(""),g=n(""),p=n(0),M=[{name:"gols_mandante",label:"Gols"},{name:"cartao_amarelo_mandante",label:"Cartões Amarelos"},{name:"cartao_vermelho_mandante",label:"Cartões Vermelhos"}],S=[{name:"gols_visitante",label:"Gols"},{name:"cartao_amarelo_visitante",label:"Cartões Amarelos"},{name:"cartao_vermelho_visitante",label:"Cartões Vermelhos"}],l=n({gols_mandante:null,gols_visitante:null,cartao_amarelo_mandante:null,cartao_amarelo_visitante:null,cartao_vermelho_mandante:null,cartao_vermelho_visitante:null,encerrado:0,wo:0,relatorio:""});function V(s){return r.value[s]?"is-invalid":""}async function $(){const{id:s}=f.params,e=await C.get(`/jogo/${s}`);h.value=e.data.campeonato,w.value=e.data.equipe_mandante.nome+" "+e.data.equipe_mandante.complemento,k.value=e.data.equipe_visitante.nome+" "+e.data.equipe_visitante.complemento,g.value=e.data.url_voltar,p.value=Number(e.data.id_temporada??e.data.jogo?.id_temporada??0),e.data&&Object.assign(l.value,e.data)}async function N(){c.value=!0,r.value={};try{await C.put(`/jogo/${f.params.id}/resultado`,l.value),q("Resultado salvo com sucesso","success"),B()}catch(s){s.response?.status===422?r.value=s.response.data.errors||{}:q("Erro ao salvar o resultado","danger")}finally{c.value=!1}}function x(s){if(!s)return"";try{const e=new URL(s,window.location.origin);return e.origin!==window.location.origin?"":`${e.pathname}${e.search}${e.hash}`}catch{return""}}function B(){const s=x(g.value);if(s){v.push(s);return}if(p.value>0){v.push(`/temporada/${p.value}/jogo`);return}v.back()}return F(()=>{$()}),(s,e)=>(u(),d("main",D,[a("div",G,[a("div",I,[a("h3",null,"Resultado - "+t(h.value),1)])]),a("form",{onSubmit:O(N,["prevent"])},[a("div",L,[a("div",z,[a("h5",W,t(w.value),1)]),(u(),d(y,null,U(M,o=>a("div",{class:"col-md-3 mb-3",key:o.name},[a("label",null,t(o.label),1),i(a("input",{type:"number",class:j(["form-control",V(o.name)]),"onUpdate:modelValue":_=>l.value[o.name]=_},null,10,H),[[b,l.value[o.name],void 0,{number:!0}]])])),64))]),a("div",J,[a("div",K,[a("h5",P,t(k.value),1)]),(u(),d(y,null,U(S,o=>a("div",{class:"col-md-3 mb-3",key:o.name},[a("label",null,t(o.label),1),i(a("input",{type:"number",class:j(["form-control",V(o.name)]),"onUpdate:modelValue":_=>l.value[o.name]=_},null,10,Q),[[b,l.value[o.name],void 0,{number:!0}]])])),64))]),a("div",X,[e[12]||(e[12]=a("div",{class:"col-12"},[a("h5",null,"Informações")],-1)),a("div",Y,[e[7]||(e[7]=a("label",null,"Este jogo está encerrado?",-1)),a("div",Z,[i(a("input",{class:"form-check-input",type:"radio",value:"1","onUpdate:modelValue":e[0]||(e[0]=o=>l.value.encerrado=o)},null,512),[[m,l.value.encerrado]]),e[5]||(e[5]=a("label",{class:"form-check-label"},"Sim",-1))]),a("div",ee,[i(a("input",{class:"form-check-input",type:"radio",value:"0","onUpdate:modelValue":e[1]||(e[1]=o=>l.value.encerrado=o)},null,512),[[m,l.value.encerrado]]),e[6]||(e[6]=a("label",{class:"form-check-label"},"Não",-1))]),r.value.encerrado?(u(),d("div",ae,t(r.value.encerrado),1)):R("",!0)]),a("div",oe,[e[10]||(e[10]=a("label",null,"Vitória por WO?",-1)),a("div",le,[i(a("input",{class:"form-check-input",type:"radio",value:"1","onUpdate:modelValue":e[2]||(e[2]=o=>l.value.wo=o)},null,512),[[m,l.value.wo]]),e[8]||(e[8]=a("label",{class:"form-check-label"},"Sim",-1))]),a("div",se,[i(a("input",{class:"form-check-input",type:"radio",value:"0","onUpdate:modelValue":e[3]||(e[3]=o=>l.value.wo=o)},null,512),[[m,l.value.wo]]),e[9]||(e[9]=a("label",{class:"form-check-label"},"Não",-1))]),r.value.wo?(u(),d("div",te,t(r.value.wo),1)):R("",!0)]),a("div",ne,[e[11]||(e[11]=a("label",null,"Relatório / Ocorrências",-1)),i(a("textarea",{class:"form-control",rows:"6","onUpdate:modelValue":e[4]||(e[4]=o=>l.value.relatorio=o)},null,512),[[b,l.value.relatorio]])])]),a("div",re,[a("div",ie,[a("button",{class:"btn btn-success w-100",disabled:c.value},t(c.value?"Salvando...":"Salvar"),9,de)])])],32)]))}});export{me as default};
