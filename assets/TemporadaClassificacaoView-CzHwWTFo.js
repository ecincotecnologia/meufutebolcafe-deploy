import{d as N,o as T,c as r,b as s,t as e,F as g,j as b,r as i,B as V,a as w,s as $,h as n,g as A,e as x,n as B,p as E,l as S}from"./index-CebFxVPd.js";const D={class:"container pb-4"},F={class:"card-header border-white mb-4"},G={class:"card-title mb-0"},P={key:0,class:"text-center py-4"},j={key:1,class:"alert alert-danger"},M={key:2,class:"card-body"},R={key:0,class:"alert alert-warning"},z={key:1,class:"table-responsive"},I={scope:"col",colspan:"2"},J={key:0},L={width:"3%"},q={class:"d-none d-sm-block"},H={class:"d-block d-sm-none"},Q=N({__name:"TemporadaClassificacaoView",setup(K){const y=E();S();const u=i(!1),c=i(""),f=i(""),m=i([]);function _(){return Number(y.params.id)}function h(l,a=0){const o=Number(l);return Number.isFinite(o)?o:a}const v=V(()=>{const l=new Map;for(const a of m.value){const o=String(a.grupo??"A"),t=String(a.fase??""),d=h(a.vagas,0),p=`${o}__${t}`;l.has(p)||l.set(p,{grupo:o,fase:t,vagas:d,classificacao:[]}),l.get(p)?.classificacao.push(a)}return Array.from(l.values())});function k(l,a,o){return h(l.desclassificado)===1?"table-warning":o>0&&a<=o?"table-primary text-primary":""}async function C(){u.value=!0,c.value="";try{const l=_(),[a,o]=await Promise.all([w.get(`/temporada/${l}/classificacao`),w.get(`/temporada/${l}`)]);m.value=Array.isArray(a.data)?a.data:[],f.value=o.data?.campeonato?.campeonato??""}catch{c.value="Erro ao carregar classificacao da temporada.",$("Erro ao carregar classificacao da temporada.","danger")}finally{u.value=!1}}return T(()=>{C()}),(l,a)=>(n(),r("main",D,[s("div",F,[s("h3",G,"Classificacao - "+e(f.value),1)]),u.value?(n(),r("div",P,[...a[0]||(a[0]=[s("div",{class:"spinner-border"},null,-1)])])):c.value?(n(),r("div",j,e(c.value),1)):(n(),r("div",M,[v.value.length===0?(n(),r("div",R," Nenhum registro encontrado ")):(n(),r("div",z,[(n(!0),r(g,null,b(v.value,o=>(n(),r("table",{key:`${o.grupo}-${o.fase}`,class:"table table-striped table-dark text-nowrap"},[s("thead",null,[s("tr",null,[s("th",I,[A(" Grupo "+e(o.grupo),1),o.fase?(n(),r("span",J," - "+e(o.fase),1)):x("",!0)]),a[1]||(a[1]=s("th",{scope:"col",width:"5%"},"J",-1)),a[2]||(a[2]=s("th",{scope:"col",width:"5%"},"P",-1)),a[3]||(a[3]=s("th",{scope:"col",width:"5%"},"V",-1)),a[4]||(a[4]=s("th",{scope:"col",width:"5%"},"E",-1)),a[5]||(a[5]=s("th",{scope:"col",width:"5%"},"D",-1)),a[6]||(a[6]=s("th",{scope:"col",width:"5%"},"GP",-1)),a[7]||(a[7]=s("th",{scope:"col",width:"5%"},"GC",-1)),a[8]||(a[8]=s("th",{scope:"col",width:"5%"},"S",-1)),a[9]||(a[9]=s("th",{scope:"col",width:"5%"},"CV",-1)),a[10]||(a[10]=s("th",{scope:"col",width:"5%"},"CA",-1)),a[11]||(a[11]=s("th",{scope:"col",width:"5%"},"CD",-1))])]),s("tbody",null,[(n(!0),r(g,null,b(o.classificacao,(t,d)=>(n(),r("tr",{key:t.id_temporada_clube??d,class:B(k(t,d+1,o.vagas))},[s("td",L,e(d+1)+"o",1),s("td",null,[s("span",q,e(t.clube??"-"),1),s("span",H,e(t.sigla??t.clube??"-"),1)]),s("td",null,e(t.jogos??0),1),s("td",null,e(t.pontos??0),1),s("td",null,e(t.vitorias??0),1),s("td",null,e(t.empates??0),1),s("td",null,e(t.derrotas??0),1),s("td",null,e(t.gols??0),1),s("td",null,e(t.contra??0),1),s("td",null,e(t.gols_saldo??0),1),s("td",null,e(t.cartao_vermelho??0),1),s("td",null,e(t.cartao_amarelo??0),1),s("td",null,e(t.confronto_direto??"-"),1)],2))),128))])]))),128))]))]))]))}});export{Q as default};
