import{d as S,o as B,c as n,b as t,t as e,F as u,g as l,j as L,r as i,B as g,a as D,s as V,h as r,p as G,q as f,_ as M}from"./index-CebFxVPd.js";import{a as O}from"./mask-BwaD9nz2.js";const P={class:"atletas-liberados-page"},U={class:"col-12"},z={class:"text-center"},H={class:"text-center"},J={key:0,class:"text-center py-4"},K={key:1,class:"alert alert-danger"},Q={class:"row"},W={class:"col-6"},X={class:"col-6 text-end"},Y={id:"atletas",class:"row"},Z={class:"base-fichao"},tt={class:"card-fichao"},st={class:"card-body d-flex justify-between"},at={class:"me-3"},ot=["src"],et={class:"w-100 mt-2 me-2"},lt={class:"row mt-2 me-1"},nt={class:"col-5"},rt={class:"mb-0"},it={id:"comissao",class:"row"},dt={class:"base-fichao"},ct={class:"card-fichao"},ut={class:"card-body d-flex justify-between"},mt={class:"me-3"},pt=["src"],vt={class:"w-100 mt-2 me-2"},bt={class:"row mt-2 me-1"},_t={class:"col-5"},gt={class:"mb-0"},ft=S({__name:"TemporadaFichaoView",setup(yt){const y=G(),m=i(!1),d=i(""),h=i(""),x=i(""),p=i(""),v=i([]),b=i([]),N=g(()=>f(new Date().toISOString().slice(0,10))),A=g(()=>v.value.length+b.value.length),I=g(()=>p.value?f(p.value):"-");function $(){return Number(y.params.idTemporadaEquipe||y.query.idTemporadaEquipe||0)}function w(o){return String(o??"").toLocaleUpperCase("pt-BR")}function E(o){return!o||["0001-11-30","0000-00-00"].includes(o)?"Pendente":f(o)}function q(o){return o==="Sim"||o===1||o===!0?"Sim":o==="Nao"||o==="NÃ£o"||o===0||o===!1?"Não":"-"}function T(o){return O(o)}function k(o){const s=o.id_atleta,a=o.foto;return s&&a?`/storage/atletas/${s}/${a}`:"/storage/atletas/default.jpg"}function F(o){const s=o.target;s.src="/storage/atletas/default.jpg"}function j(){window.print()}async function C(){m.value=!0,d.value="";try{const o=$();if(!o){d.value="Equipe da temporada nao informada.";return}const{data:s}=await D.get(`/temporada-atleta/${o}/liberado`),a=s??{},c=Array.isArray(a.atleta)?a.atleta:[],R=Array.isArray(a.comissao)?a.comissao:[];h.value=a.temporada?.campeonato?.campeonato??"",x.value=`${a.equipe?.equipe?.nome??""} ${a.equipe?.complemento??""}`.trim(),p.value=a.temporada?.data_inscricao_atletas??a.temporada?.data_inscricao_equipes??"",v.value=c.map(_=>({..._,tipo:1})),b.value=R.map(_=>({..._,tipo:2}))}catch{d.value="Erro ao carregar atletas liberados.",V("Erro ao carregar atletas liberados.","danger")}finally{m.value=!1}}return B(()=>{C()}),(o,s)=>(r(),n(u,null,[t("main",P,[t("div",U,[t("h1",z,e(h.value),1),t("h3",H,e(x.value),1),m.value?(r(),n("div",J,[...s[0]||(s[0]=[t("div",{class:"spinner-border"},null,-1)])])):d.value?(r(),n("div",K,e(d.value),1)):(r(),n(u,{key:2},[t("div",Q,[t("div",W,[t("p",null,[s[1]||(s[1]=l(" Existem ",-1)),t("strong",null,e(A.value),1),s[2]||(s[2]=l(" integrantes inscritos ate ",-1)),t("strong",null,e(I.value),1)])]),t("div",X,[t("p",null,[t("small",null,[s[3]||(s[3]=l("Lista gerada em ",-1)),t("b",null,e(N.value),1),s[4]||(s[4]=l(" por Futebol Cafe",-1))])])])]),t("section",Y,[s[9]||(s[9]=t("div",{class:"col-12"},[t("h5",{class:"mt-2"},"Atletas")],-1)),t("div",Z,[(r(!0),n(u,null,L(v.value,(a,c)=>(r(),n("div",{key:`atleta-${a.id_atleta??c}`,class:"col-12 col-md-6 float-start"},[t("div",tt,[t("div",st,[t("div",at,[t("img",{src:k(a),style:{width:"75px",height:"100px"},onError:F},null,40,ot)]),t("div",et,[t("b",null,e(w(a.nome)),1),s[8]||(s[8]=t("br",null,null,-1)),t("div",lt,[t("div",nt,[t("p",rt,[l(" RG: "+e(T(a.rg)),1),s[5]||(s[5]=t("br",null,null,-1)),l(" Nascimento: "+e(E(a.nascimento)),1),s[6]||(s[6]=t("br",null,null,-1)),l(" Federado: "+e(q(a.federado)),1)])]),s[7]||(s[7]=t("div",{class:"col-7"},[t("table",{class:"table table-bordered border-secondary mb-0"},[t("tbody",null,[t("tr",null,[t("td",{style:{height:"24px"}}),t("td"),t("td"),t("td"),t("td")]),t("tr",null,[t("td",{style:{height:"24px"}}),t("td"),t("td"),t("td"),t("td")])])])],-1))])])])])]))),128))])]),t("section",it,[s[14]||(s[14]=t("div",{class:"col-12"},[t("h5",{class:"mt-3"},"Comissão Técnica")],-1)),t("div",dt,[(r(!0),n(u,null,L(b.value,(a,c)=>(r(),n("div",{key:`comissao-${a.id_atleta??c}`,class:"col-12 col-md-6 float-start"},[t("div",ct,[t("div",ut,[t("div",mt,[t("img",{src:k(a),style:{width:"75px",height:"100px"},onError:F},null,40,pt)]),t("div",vt,[t("b",null,e(w(a.nome)),1),s[13]||(s[13]=t("br",null,null,-1)),t("div",bt,[t("div",_t,[t("p",gt,[l(" RG: "+e(T(a.rg)),1),s[10]||(s[10]=t("br",null,null,-1)),l(" Nascimento: "+e(E(a.nascimento)),1),s[11]||(s[11]=t("br",null,null,-1)),l(" Federado: "+e(q(a.federado)),1)])]),s[12]||(s[12]=t("div",{class:"col-7"},[t("table",{class:"table table-bordered border-secondary mb-0"},[t("tbody",null,[t("tr",null,[t("td",{style:{height:"24px"}}),t("td"),t("td"),t("td"),t("td")]),t("tr",null,[t("td",{style:{height:"24px"}}),t("td"),t("td"),t("td"),t("td")])])])],-1))])])])])]))),128))])])],64))])]),t("div",{class:"row"},[t("div",{class:"d-grid gap-2 my-3 col-6 mx-auto d-print-none"},[t("button",{class:"btn-custom",type:"button",onClick:j}," Imprimir ")])])],64))}}),wt=M(ft,[["__scopeId","data-v-9922044b"]]);export{wt as default};
