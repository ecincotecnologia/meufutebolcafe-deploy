import{d as E,x as S,o as C,c as g,b as o,t as _,w as T,f as e,m as y,n as i,F as M,j as I,y as r,v as n,z as V,A as N,p as B,r as u,B as D,a as b,s as c,l as O,h as k}from"./index-CebFxVPd.js";const P={id:"app",class:"container"},A={class:"row"},F={class:"col-12"},R={class:"mb-4"},$={class:"card mb-3 text-bg-dark border-white"},G={class:"card-body row"},J={class:"mb-3 col-12"},L=["disabled"],Z=["value"],H={class:"invalid-feedback"},K={class:"mb-3 col-md-6"},Q={class:"form-check"},W={class:"form-check"},X={class:"mb-3 col-md-6"},Y={class:"form-check"},h={class:"form-check"},aa={class:"card mb-3 text-bg-dark border-white"},oa={class:"card-body row"},sa={class:"mb-3 col-md-3"},la={class:"mb-3 col-md-3"},ea={class:"mb-3 col-md-3"},ta={class:"mb-3 col-md-3"},ia={class:"mb-3 col-md-3"},na={class:"form-check"},da={class:"form-check"},ra={class:"mb-3 col-md-3"},ua={class:"mb-3 col-md-3"},ca={class:"col-12"},ma={class:"card mb-3 text-bg-dark border-white"},pa={class:"card-body row"},va={class:"mb-3 col-md-3"},_a={class:"mb-3 col-md-3"},ba={class:"card mb-3 text-bg-dark border-white"},fa={class:"card-body row"},ga={class:"mb-3 col-12"},ya={class:"mb-3 col-md-4"},ka={class:"mb-3 col-md-4"},wa={class:"mb-3 col-md-4"},Va={class:"mb-3 col-md-4"},qa={class:"form-check form-switch"},Ua={class:"mb-3 col-md-4"},xa=["disabled"],za={class:"card mb-3 text-bg-dark border-white"},ja={class:"card-body row"},Ea={class:"mb-3 col-sm-6"},Sa={class:"mb-3 col-md-4"},Ca={class:"form-check form-switch"},Ta={class:"row mb-5"},Ma={class:"d-grid gap-1 col"},Ia=["disabled"],Da=E({__name:"TemporadaFormView",setup(Na){const w=B(),q=O(),m=u(!1),p=u({}),v=u([]),f=u(""),s=u({id_temporada:null,id_campeonato:"",cobranca_tipo:1,cobranca_valor:"",cobranca_data_encerramento:"",informacoes:"",data_inicio_jogos:"",data_final_jogos:"",data_inscricao_equipes:"",data_inscricao_atletas:"",criterio_classificacao:2,exibe_classificacao_geral:!1,num_vagas_geral:0,num_vagas_1:0,num_vagas_2:0,num_vagas_3:0,quantidade_atletas:0,quantidade_comissao:0,autorizacao:"0",dados_responsavel:"0",cartoes:1,cartao_zerar_primeira_fase:!1}),U=D(()=>!!s.value.id_temporada);function t(d){return p.value[d]?"is-invalid":""}async function x(){try{const d=await b.get("/campeonato");v.value=d.data}catch{c("Erro ao carregar campeonatos.","danger")}}async function z(){try{const d=await b.get(`/temporada/${s.value.id_temporada}`);Object.assign(s.value,d.data);const a=v.value.find(l=>l.id_campeonato==s.value.id_campeonato);f.value=a?a.campeonato:""}catch{c("Erro ao carregar temporada.","danger"),q.push("/temporadas")}}async function j(){m.value=!0,p.value={};try{s.value.id_temporada?(await b.put(`/temporada/${s.value.id_temporada}`,s.value),c("Temporada atualizada com sucesso","success")):(await b.post("/temporada",s.value),c("Temporada cadastrada com sucesso","success"),s.value={id_temporada:null,id_campeonato:"",cobranca_tipo:1,cobranca_valor:"",cobranca_data_encerramento:"",informacoes:"",data_inicio_jogos:"",data_final_jogos:"",data_inscricao_equipes:"",data_inscricao_atletas:"",criterio_classificacao:2,exibe_classificacao_geral:!1,quantidade_atletas:0,quantidade_comissao:0,num_vagas_1:0,num_vagas_2:0,num_vagas_3:0,num_vagas_geral:0,autorizacao:"0",dados_responsavel:"0",cartoes:1,cartao_zerar_primeira_fase:!1})}catch(d){d.response?.status===422?p.value=d.response.data.errors||{}:c("Erro ao salvar os dados.","danger")}finally{m.value=!1}}return S(()=>s.value.id_campeonato,d=>{const a=v.value.find(l=>l.id_campeonato==d);f.value=a?a.campeonato:""}),C(async()=>{await x(),w.params.id&&(s.value.id_temporada=Number(w.params.id),z())}),(d,a)=>(k(),g("main",P,[o("div",A,[o("div",F,[o("h5",R," Configurações "+_(f.value),1),o("form",{onSubmit:T(j,["prevent"]),enctype:"multipart/form-data"},[o("div",$,[o("div",G,[o("div",J,[a[25]||(a[25]=o("label",null,[o("b",null,"Campeonato (Obrigatório)")],-1)),e(o("select",{class:i(["form-control",t("id_campeonato")]),"onUpdate:modelValue":a[0]||(a[0]=l=>s.value.id_campeonato=l),disabled:U.value},[a[24]||(a[24]=o("option",{value:""},"Selecione um campeonato",-1)),(k(!0),g(M,null,I(v.value,l=>(k(),g("option",{key:l.id_campeonato,value:l.id_campeonato},_(l.campeonato),9,Z))),128))],10,L),[[y,s.value.id_campeonato]]),o("div",H,_(p.value.id_campeonato),1)]),o("div",K,[a[28]||(a[28]=o("label",null,[o("b",null,"Obrigatório dados do responsável pelo atleta?")],-1)),o("div",Q,[e(o("input",{class:"form-check-input",type:"radio",value:"1","onUpdate:modelValue":a[1]||(a[1]=l=>s.value.dados_responsavel=l)},null,512),[[r,s.value.dados_responsavel]]),a[26]||(a[26]=o("label",{class:"form-check-label"},"Sim",-1))]),o("div",W,[e(o("input",{class:"form-check-input",type:"radio",value:"0","onUpdate:modelValue":a[2]||(a[2]=l=>s.value.dados_responsavel=l)},null,512),[[r,s.value.dados_responsavel]]),a[27]||(a[27]=o("label",{class:"form-check-label"},"Não",-1))])]),o("div",X,[a[31]||(a[31]=o("label",null,[o("b",null,"Obrigatória autorização do responsável?")],-1)),o("div",Y,[e(o("input",{class:"form-check-input",type:"radio",value:"1","onUpdate:modelValue":a[3]||(a[3]=l=>s.value.autorizacao=l)},null,512),[[r,s.value.autorizacao]]),a[29]||(a[29]=o("label",{class:"form-check-label"},"Sim",-1))]),o("div",h,[e(o("input",{class:"form-check-input",type:"radio",value:"0","onUpdate:modelValue":a[4]||(a[4]=l=>s.value.autorizacao=l)},null,512),[[r,s.value.autorizacao]]),a[30]||(a[30]=o("label",{class:"form-check-label"},"Não",-1))])])])]),o("div",aa,[a[42]||(a[42]=o("div",{class:"card-header border-white"},[o("h5",null,"Inscrição das Equipes")],-1)),o("div",oa,[o("div",sa,[a[32]||(a[32]=o("label",null,[o("b",null,"Inscrições de equipes até")],-1)),e(o("input",{type:"date",class:i(["form-control",t("data_inscricao_equipes")]),"onUpdate:modelValue":a[5]||(a[5]=l=>s.value.data_inscricao_equipes=l)},null,2),[[n,s.value.data_inscricao_equipes]])]),o("div",la,[a[33]||(a[33]=o("label",null,[o("b",null,"Inscrições de atletas até")],-1)),e(o("input",{type:"date",class:i(["form-control",t("data_inscricao_atletas")]),"onUpdate:modelValue":a[6]||(a[6]=l=>s.value.data_inscricao_atletas=l)},null,2),[[n,s.value.data_inscricao_atletas]])]),o("div",ea,[a[34]||(a[34]=o("label",null,[o("b",null,"Atletas por equipe")],-1)),e(o("input",{type:"number",min:"1",max:"30",class:i(["form-control",t("quantidade_atletas")]),"onUpdate:modelValue":a[7]||(a[7]=l=>s.value.quantidade_atletas=l)},null,2),[[n,s.value.quantidade_atletas]])]),o("div",ta,[a[35]||(a[35]=o("label",null,[o("b",null,"Comissão técnica por equipe")],-1)),e(o("input",{type:"number",min:"1",max:"5",class:i(["form-control",t("quantidade_comissao")]),"onUpdate:modelValue":a[8]||(a[8]=l=>s.value.quantidade_comissao=l)},null,2),[[n,s.value.quantidade_comissao]])]),o("div",ia,[a[38]||(a[38]=o("label",null,[o("b",null,"Tipo de cobrança")],-1)),o("div",na,[e(o("input",{class:"form-check-input",type:"radio",value:"1","onUpdate:modelValue":a[9]||(a[9]=l=>s.value.cobranca_tipo=l)},null,512),[[r,s.value.cobranca_tipo]]),a[36]||(a[36]=o("label",{class:"form-check-label"},"Por equipe",-1))]),o("div",da,[e(o("input",{class:"form-check-input",type:"radio",value:"2","onUpdate:modelValue":a[10]||(a[10]=l=>s.value.cobranca_tipo=l)},null,512),[[r,s.value.cobranca_tipo]]),a[37]||(a[37]=o("label",{class:"form-check-label"},"Por atleta",-1))])]),o("div",ra,[a[39]||(a[39]=o("label",null,"Valor da inscrição",-1)),e(o("input",{type:"text",class:"form-control","onUpdate:modelValue":a[11]||(a[11]=l=>s.value.cobranca_valor=l)},null,512),[[n,s.value.cobranca_valor]])]),o("div",ua,[a[40]||(a[40]=o("label",null,"Data limite pagamento",-1)),e(o("input",{type:"date",class:"form-control","onUpdate:modelValue":a[12]||(a[12]=l=>s.value.cobranca_data_encerramento=l)},null,512),[[n,s.value.cobranca_data_encerramento]])]),o("div",ca,[a[41]||(a[41]=o("label",null,"Informações adicionais",-1)),e(o("textarea",{class:"form-control",rows:"4","onUpdate:modelValue":a[13]||(a[13]=l=>s.value.informacoes=l)},null,512),[[n,s.value.informacoes]])])])]),o("div",ma,[a[45]||(a[45]=o("div",{class:"card-header border-white"},[o("h5",null,"Jogos")],-1)),o("div",pa,[o("div",va,[a[43]||(a[43]=o("label",null,"Início",-1)),e(o("input",{type:"date",class:i(["form-control",t("data_inicio_jogos")]),"onUpdate:modelValue":a[14]||(a[14]=l=>s.value.data_inicio_jogos=l)},null,2),[[n,s.value.data_inicio_jogos]])]),o("div",_a,[a[44]||(a[44]=o("label",null,"Encerramento",-1)),e(o("input",{type:"date",class:i(["form-control",t("data_final_jogos")]),"onUpdate:modelValue":a[15]||(a[15]=l=>s.value.data_final_jogos=l)},null,2),[[n,s.value.data_final_jogos]])])])]),o("div",ba,[a[53]||(a[53]=o("div",{class:"card-header border-white"},[o("h5",null,"Classificação")],-1)),o("div",fa,[o("div",ga,[a[47]||(a[47]=o("label",null,"Critérios de classificação",-1)),e(o("select",{class:"form-control","onUpdate:modelValue":a[16]||(a[16]=l=>s.value.criterio_classificacao=l)},[...a[46]||(a[46]=[o("option",{value:"2"},"Aproveitamento",-1),o("option",{value:"8"},"Índice / Pontos / Saldo / Gols",-1),o("option",{value:"1"},"Pontos / Índice / Saldo",-1)])],512),[[y,s.value.criterio_classificacao]])]),o("div",ya,[a[48]||(a[48]=o("label",null,"Equipes classificadas 1ª fase",-1)),e(o("input",{type:"number",class:i(["form-control",t("num_vagas_1")]),"onUpdate:modelValue":a[17]||(a[17]=l=>s.value.num_vagas_1=l)},null,2),[[n,s.value.num_vagas_1]])]),o("div",ka,[a[49]||(a[49]=o("label",null,"Equipes classificadas 2ª fase",-1)),e(o("input",{type:"number",class:i(["form-control",t("num_vagas_2")]),"onUpdate:modelValue":a[18]||(a[18]=l=>s.value.num_vagas_2=l)},null,2),[[n,s.value.num_vagas_2]])]),o("div",wa,[a[50]||(a[50]=o("label",null,"Equipes classificadas 3ª fase",-1)),e(o("input",{type:"number",class:i(["form-control",t("num_vagas_3")]),"onUpdate:modelValue":a[19]||(a[19]=l=>s.value.num_vagas_3=l)},null,2),[[n,s.value.num_vagas_3]])]),o("div",Va,[a[51]||(a[51]=o("label",null,"Exibe classificação geral?",-1)),o("div",qa,[e(o("input",{class:i(["form-check-input",t("exibe_classificacao_geral")]),type:"checkbox","onUpdate:modelValue":a[20]||(a[20]=l=>s.value.exibe_classificacao_geral=l)},null,2),[[V,s.value.exibe_classificacao_geral]])])]),o("div",Ua,[a[52]||(a[52]=o("label",null,"Equipes classificadas geral",-1)),e(o("input",{type:"number",class:i(["form-control",t("num_vagas_geral")]),"onUpdate:modelValue":a[21]||(a[21]=l=>s.value.num_vagas_geral=l),disabled:!s.value.exibe_classificacao_geral},null,10,xa),[[n,s.value.num_vagas_geral]])])])]),o("div",za,[a[57]||(a[57]=o("div",{class:"card-header border-white"},[o("h5",null,"Disciplinar")],-1)),o("div",ja,[o("div",Ea,[a[55]||(a[55]=o("label",null,"Suspensão por cartão amarelo",-1)),e(o("select",{class:i(["form-control",t("cartoes")]),"onUpdate:modelValue":a[22]||(a[22]=l=>s.value.cartoes=l)},[...a[54]||(a[54]=[N('<option value="1">1</option><option value="2">2</option><option value="3">3</option><option value="4">4</option><option value="5">5</option>',5)])],2),[[y,s.value.cartoes]])]),o("div",Sa,[a[56]||(a[56]=o("label",null,"Zerar cartões na segunda fase?",-1)),o("div",Ca,[e(o("input",{class:i(["form-check-input",t("cartao_zerar_primeira_fase")]),type:"checkbox","onUpdate:modelValue":a[23]||(a[23]=l=>s.value.cartao_zerar_primeira_fase=l)},null,2),[[V,s.value.cartao_zerar_primeira_fase]])])])])]),o("div",Ta,[o("div",Ma,[o("button",{class:"btn btn-success",disabled:m.value},_(m.value?"Salvando...":"Salvar"),9,Ia)])])],32)])])]))}});export{Da as default};
