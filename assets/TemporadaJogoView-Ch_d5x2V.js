import{d as V,o as q,c as r,b as t,t as o,F as U,j as S,r as p,p as T,a as m,s as c,h as i,g as l,n as R,q as J,_ as M}from"./index-CebFxVPd.js";const B={id:"app",class:"container"},D={class:"row mb-4"},F={class:"col-12"},L={key:0,class:"text-center py-4"},N={key:1,class:"row row-cols-1 row-cols-md-2 g-3 mb-4"},P={class:"card card-dark h-100"},A={class:"card-body"},I={class:"card-title text-center"},z={key:0},O={key:1},H={class:"card-subtitle text-center small mb-2"},X={class:"row row-cols-2 row-cols-sm-auto mx-auto g-2"},G={class:"col"},K=["onClick"],Q={class:"col"},W=["onClick"],Y={class:"col"},Z=["href"],j={class:"col"},ee=["href"],ae={class:"col"},te=["href"],se={class:"col"},oe=["aria-disabled","onClick"],ne=V({__name:"TemporadaJogoView",setup(re){const d=p([]),h=p(""),_=p(!1),v=T(),f=Number(v.params.id);function w(a){if(!a)return"-";const s=new Date(a);return J(s.toISOString().split("T")[0])}function b(a){return a.gols_penalti_mandante||a.gols_penalti_visitante}function u(a){return a.encerrado===1||a.encerrado==="1"||a.encerrado===!0||a.encerrado==="Sim"}function g(a){return`/jogo/${a.id_jogo}/resultado${a.id_modalidade===4?"/volei":""}`}function x(a){return a.id_modalidade===3?`/jogo/${a.id_jogo}/sumula/basquete`:`/jogo/${a.id_jogo}/sumula`}async function y(a){_.value=!0;try{const s=await m.get(`/temporada/${a}/jogos`);d.value=s.data.jogos,h.value=s.data.campeonato.campeonato}catch{c("Erro ao carregar jogos","danger")}finally{_.value=!1}}async function k(a){if(confirm("Deseja realmente excluir este jogo?"))try{await m.delete(`/jogo/${a}`),d.value=d.value.filter(s=>s.id_jogo!==a),c("Jogo excluído com sucesso","success")}catch{c("Erro ao excluir jogo","danger")}}async function C(a){try{const{data:s}=await m.get(`/jogo/${a}/sumula/imprimir`,{responseType:"text"}),e=window.open("","_blank");if(!e){c("Permita pop-ups para visualizar a sumula.","warning");return}e.document.open(),e.document.write(s),e.document.close()}catch{c("Erro ao gerar sumula para impressao","danger")}}function $(a){if(!a)return"sumula.pdf";const s=a.match(/filename\*=UTF-8''([^;]+)/i);if(s?.[1])return decodeURIComponent(s[1]);const e=a.match(/filename="?([^"]+)"?/i);return e?.[1]?e[1]:"sumula.pdf"}async function E(a){try{const s=await m.get(`/jogo/${a}/sumula/pdf`,{responseType:"blob"}),e=window.URL.createObjectURL(s.data),n=document.createElement("a");n.href=e,n.download=$(s.headers["content-disposition"]),document.body.appendChild(n),n.click(),n.remove(),window.URL.revokeObjectURL(e)}catch{c("Erro ao gerar PDF da sumula","danger")}}return q(()=>{y(f)}),(a,s)=>(i(),r("main",B,[t("div",D,[t("div",F,[t("h1",null,"Jogos - "+o(h.value),1)])]),_.value?(i(),r("div",L,[...s[0]||(s[0]=[t("div",{class:"spinner-border"},null,-1)])])):(i(),r("div",N,[(i(!0),r(U,null,S(d.value,e=>(i(),r("div",{class:"col",key:e.id_jogo},[t("div",P,[t("div",A,[t("h6",I,[l(o(e.equipe_mandante.equipe.nome)+" "+o(e.equipe_mandante.complemento)+" ",1),b(e)?(i(),r("span",z," ("+o(e.gols_penalti_mandante)+") "+o(e.gols_mandante)+" X "+o(e.gols_visitante)+" ("+o(e.gols_penalti_visitante)+") ",1)):(i(),r("span",O,o(e.gols_mandante)+" X "+o(e.gols_visitante),1)),l(" "+o(e.equipe_visitante.equipe.nome)+" "+o(e.equipe_visitante.complemento),1)]),t("p",H,[s[1]||(s[1]=t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-calendar-date me-1",viewBox:"0 0 16 16"},[t("path",{d:"M6.445 11.688V6.354h-.633A12.6 12.6 0 0 0 4.5 7.16v.695c.375-.257.969-.62 1.258-.777h.012v4.61h.675z"}),t("path",{d:"M3.5 0a.5.5 0 0 1 .5.5V1h8V.5a.5.5 0 0 1 1 0V1h1a2 2 0 0 1 2 2v11a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h1V.5a.5.5 0 0 1 .5-.5"})],-1)),l(" "+o(w(e.data))+" - "+o(e.horario)+" - "+o(e.fase.fase)+" ",1),s[2]||(s[2]=t("br",null,null,-1)),s[3]||(s[3]=t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-geo-alt-fill me-1",viewBox:"0 0 16 16"},[t("path",{d:"M8 16s6-5.686 6-10A6 6 0 0 0 2 6c0 4.314 6 10 6 10"})],-1)),l(" "+o(e.estadio?.nome??"-")+" ",1),s[4]||(s[4]=t("br",null,null,-1)),l(" Encerrado: "+o(u(e)?"Sim":"Não"),1)]),t("div",X,[t("div",G,[t("a",{href:"javascript:void(0)",class:"btn-custom",onClick:n=>C(e.id_jogo)}," Imprimir ",8,K)]),t("div",Q,[t("a",{href:"javascript:void(0)",class:"btn-custom",onClick:n=>E(e.id_jogo)}," PDF ",8,W)]),t("div",Y,[t("a",{href:x(e),class:"btn-custom"}," Súmula ",8,Z)]),t("div",j,[t("a",{href:g(e),class:"btn-custom"}," Resultado ",8,ee)]),t("div",ae,[t("a",{href:`/jogo/${e.id_jogo}/editar`,class:"btn-custom"}," Editar ",8,te)]),t("div",se,[t("a",{href:"javascript:void(0)",class:R(["btn-custom",{"btn-custom-disabled":u(e)}]),"aria-disabled":u(e),onClick:n=>!u(e)&&k(e.id_jogo)}," Excluir ",10,oe)])])])])]))),128))]))]))}}),ce=M(ne,[["__scopeId","data-v-d812490a"]]);export{ce as default};
